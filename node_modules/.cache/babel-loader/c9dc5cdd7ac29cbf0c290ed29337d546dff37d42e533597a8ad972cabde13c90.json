{"ast":null,"code":"// Copyright (c) 2023, 2024, Oracle and/or its affiliates.\n\n//-----------------------------------------------------------------------------\n//\n// This software is dual-licensed to you under the Universal Permissive License\n// (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl and Apache License\n// 2.0 as shown at http://www.apache.org/licenses/LICENSE-2.0. You may choose\n// either license.\n//\n// If you elect to accept the software under the Apache License, Version 2.0,\n// the following applies:\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//-----------------------------------------------------------------------------\n\n'use strict';\n\nconst BaseDbObject = require('./dbObject.js');\nconst {\n  Buffer\n} = require('buffer');\nconst Lob = require('./lob.js');\nconst ResultSet = require('./resultset.js');\nconst constants = require('./constants.js');\nconst errors = require('./errors.js');\nconst util = require('util');\nconst types = require('./types.js');\nconst nodbUtil = require('./util.js');\n\n//-----------------------------------------------------------------------------\n// checkType()\n//\n// Checks that the type of the data matches one of the given types. If the type\n// has not been specified yet, the first type is assumed to be the correct one.\n//\n// A failure to match results in an exception being thrown. The data in the\n// info parameter is used to determine which error should be thrown.\n//-----------------------------------------------------------------------------\nfunction checkType(info, options) {\n  if (info.type === undefined && arguments.length > 2) {\n    info.type = arguments[2];\n  } else {\n    let matches = false;\n    for (let i = 2; i < arguments.length; i++) {\n      if (info.type === arguments[i]) {\n        matches = true;\n        break;\n      }\n    }\n    if (!matches) {\n      if (info.attrName) {\n        errors.throwErr(errors.ERR_WRONG_VALUE_FOR_DBOBJECT_ATTR, info.attrName, info.fqn);\n      } else if (info.fqn) {\n        errors.throwErr(errors.ERR_WRONG_VALUE_FOR_DBOBJECT_ELEM, info.fqn);\n      } else if (info.isArray && info.name) {\n        errors.throwErr(errors.ERR_INCOMPATIBLE_TYPE_ARRAY_BIND, options.pos, info.name);\n      } else if (info.isArray) {\n        errors.throwErr(errors.ERR_INCOMPATIBLE_TYPE_ARRAY_INDEX_BIND, options.pos, info.pos);\n      } else {\n        errors.throwErr(errors.ERR_BIND_VALUE_AND_TYPE_MISMATCH);\n      }\n    }\n  }\n}\n\n//-----------------------------------------------------------------------------\n// transformJsonValue()\n//\n// Returns a normalized JSON value. Scalar values are returned unchanged.\n// Arrays are returned as a new array with transformed JSON values. Objects are\n// returned as new objects with keys \"fields\" and \"values\", both of which\n// are arrays (with the value transformed to JSON values).\n//-----------------------------------------------------------------------------\nfunction transformJsonValue(value) {\n  // handle simple scalars\n  if (value === undefined || value === null || typeof value === 'number' || typeof value === 'string' || typeof value === 'boolean' || Buffer.isBuffer(value) || util.types.isDate(value) || nodbUtil.isVectorValue(value)) return value;\n\n  // arrays are transformed to a new array with processed values\n  if (Array.isArray(value)) {\n    const outValue = new Array(value.length);\n    for (let i = 0; i < value.length; i++) {\n      outValue[i] = transformJsonValue(value[i]);\n    }\n    return outValue;\n  }\n\n  // database objects are treated as empty objects\n  if (value instanceof BaseDbObject) return {\n    fields: [],\n    values: []\n  };\n\n  // JsonId is a special type to represent autogenerated id\n  // for SODA documents.\n  if (value instanceof types.JsonId) {\n    return value;\n  }\n\n  // all other objects are transformed to an object with two arrays (fields\n  // and values)\n  const outValue = {};\n  outValue.fields = Object.getOwnPropertyNames(value);\n  outValue.values = new Array(outValue.fields.length);\n  for (let i = 0; i < outValue.fields.length; i++) {\n    outValue.values[i] = transformJsonValue(value[outValue.fields[i]]);\n  }\n  return outValue;\n}\n\n//-----------------------------------------------------------------------------\n// transformValueIn()\n//\n// Processes the value supplied by the caller and returns a normalized value,\n// if necessary, for use by the implementation. All checks are performed on the\n// value to ensure it is suitable for the type information supplied. If no type\n// information is supplied, however, the value defines it instead!\n//-----------------------------------------------------------------------------\nfunction transformValueIn(info, value, options) {\n  // null and undefined can always be set so nothing needs to be done\n  if (value === undefined || value === null) return undefined;\n\n  // handle setting plain JS values to database objects\n  if (info.type === types.DB_TYPE_OBJECT) {\n    let obj = value;\n    if (!(value instanceof BaseDbObject)) {\n      obj = new info.typeClass(value);\n    }\n    return obj._impl;\n\n    // handle setting plain JS values to JSON\n  } else if (info.type === types.DB_TYPE_JSON) {\n    return transformJsonValue(value);\n\n    // handle strings\n  } else if (typeof value === 'string') {\n    checkType(info, options, types.DB_TYPE_VARCHAR, types.DB_TYPE_NVARCHAR, types.DB_TYPE_CHAR, types.DB_TYPE_NCHAR, types.DB_TYPE_CLOB, types.DB_TYPE_NCLOB);\n    if (info.type !== types.DB_TYPE_CLOB && info.type !== types.DB_TYPE_NCLOB) {\n      const valueLen = Buffer.byteLength(value);\n      if (info.maxSize === undefined || valueLen > info.maxSize) {\n        if (info.checkSize) {\n          errors.throwErr(errors.ERR_MAX_SIZE_TOO_SMALL, info.maxSize, valueLen, options.pos);\n        }\n        info.maxSize = valueLen;\n      }\n    }\n    return value;\n\n    // handle numbers\n  } else if (typeof value === 'number' || typeof value === 'bigint') {\n    checkType(info, options, types.DB_TYPE_NUMBER, types.DB_TYPE_BINARY_INTEGER, types.DB_TYPE_BINARY_FLOAT, types.DB_TYPE_BINARY_DOUBLE);\n    if (Number.isNaN(value) && info.type === types.DB_TYPE_NUMBER) {\n      errors.throwErr(errors.ERR_NAN_VALUE);\n    }\n    return value;\n\n    // handle booleans\n  } else if (typeof value === 'boolean') {\n    checkType(info, options, types.DB_TYPE_BOOLEAN);\n    return value;\n\n    // handle dates\n  } else if (util.types.isDate(value)) {\n    checkType(info, options, types.DB_TYPE_TIMESTAMP, types.DB_TYPE_TIMESTAMP_TZ, types.DB_TYPE_TIMESTAMP_LTZ, types.DB_TYPE_DATE);\n    return value;\n\n    // handle binding buffers\n  } else if (Buffer.isBuffer(value)) {\n    checkType(info, options, types.DB_TYPE_RAW, types.DB_TYPE_BLOB);\n    if (info.type === types.DB_TYPE_RAW && (info.maxSize === undefined || value.length > info.maxSize)) {\n      if (info.checkSize) {\n        errors.throwErr(errors.ERR_MAX_SIZE_TOO_SMALL, info.maxSize, value.length, options.pos);\n      }\n      info.maxSize = value.length;\n    }\n    return value;\n\n    // handle result sets\n  } else if (value instanceof ResultSet) {\n    checkType(info, options, types.DB_TYPE_CURSOR);\n    return value._impl;\n\n    // handle binding LOBs\n  } else if (value instanceof Lob) {\n    checkType(info, options, value.type);\n    return value._impl;\n\n    // handle database objects\n  } else if (value instanceof BaseDbObject) {\n    checkType(info, options, types.DB_TYPE_OBJECT);\n    return value._impl;\n\n    // handle vectors\n  } else if (nodbUtil.isVectorValue(value)) {\n    checkType(info, options, types.DB_TYPE_VECTOR);\n    return value;\n  } else if (info.type === types.DB_TYPE_VECTOR && Array.isArray(value)) {\n    return new Float64Array(value);\n\n    // handle arrays\n  } else if (options.allowArray && Array.isArray(value)) {\n    info.isArray = true;\n    if (info.dir === constants.BIND_IN) {\n      info.maxArraySize = value.length || 1;\n    } else if (info.maxArraySize === undefined) {\n      errors.throwErr(errors.ERR_REQUIRED_MAX_ARRAY_SIZE);\n    } else if (value.length > info.maxArraySize) {\n      errors.throwErr(errors.ERR_INVALID_ARRAY_SIZE);\n    }\n    options.allowArray = false;\n    const transformed = new Array(value.length);\n    for (let i = 0; i < value.length; i++) {\n      options.pos = i;\n      transformed[i] = transformValueIn(info, value[i], options);\n    }\n    return transformed;\n  }\n\n  // no suitable bind value found\n  if (info.type === undefined) errors.throwErr(errors.ERR_INVALID_BIND_DATA_TYPE, 2);\n  checkType(info, options);\n}\n\n// define exports\nmodule.exports = {\n  transformJsonValue,\n  transformValueIn\n};","map":{"version":3,"names":["BaseDbObject","require","Buffer","Lob","ResultSet","constants","errors","util","types","nodbUtil","checkType","info","options","type","undefined","arguments","length","matches","i","attrName","throwErr","ERR_WRONG_VALUE_FOR_DBOBJECT_ATTR","fqn","ERR_WRONG_VALUE_FOR_DBOBJECT_ELEM","isArray","name","ERR_INCOMPATIBLE_TYPE_ARRAY_BIND","pos","ERR_INCOMPATIBLE_TYPE_ARRAY_INDEX_BIND","ERR_BIND_VALUE_AND_TYPE_MISMATCH","transformJsonValue","value","isBuffer","isDate","isVectorValue","Array","outValue","fields","values","JsonId","Object","getOwnPropertyNames","transformValueIn","DB_TYPE_OBJECT","obj","typeClass","_impl","DB_TYPE_JSON","DB_TYPE_VARCHAR","DB_TYPE_NVARCHAR","DB_TYPE_CHAR","DB_TYPE_NCHAR","DB_TYPE_CLOB","DB_TYPE_NCLOB","valueLen","byteLength","maxSize","checkSize","ERR_MAX_SIZE_TOO_SMALL","DB_TYPE_NUMBER","DB_TYPE_BINARY_INTEGER","DB_TYPE_BINARY_FLOAT","DB_TYPE_BINARY_DOUBLE","Number","isNaN","ERR_NAN_VALUE","DB_TYPE_BOOLEAN","DB_TYPE_TIMESTAMP","DB_TYPE_TIMESTAMP_TZ","DB_TYPE_TIMESTAMP_LTZ","DB_TYPE_DATE","DB_TYPE_RAW","DB_TYPE_BLOB","DB_TYPE_CURSOR","DB_TYPE_VECTOR","Float64Array","allowArray","dir","BIND_IN","maxArraySize","ERR_REQUIRED_MAX_ARRAY_SIZE","ERR_INVALID_ARRAY_SIZE","transformed","ERR_INVALID_BIND_DATA_TYPE","module","exports"],"sources":["C:/Users/Koliv/Desktop/Software/my-react-app/node_modules/oracledb/lib/transformer.js"],"sourcesContent":["// Copyright (c) 2023, 2024, Oracle and/or its affiliates.\n\n//-----------------------------------------------------------------------------\n//\n// This software is dual-licensed to you under the Universal Permissive License\n// (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl and Apache License\n// 2.0 as shown at http://www.apache.org/licenses/LICENSE-2.0. You may choose\n// either license.\n//\n// If you elect to accept the software under the Apache License, Version 2.0,\n// the following applies:\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//-----------------------------------------------------------------------------\n\n'use strict';\n\nconst BaseDbObject = require('./dbObject.js');\nconst { Buffer } = require('buffer');\nconst Lob = require('./lob.js');\nconst ResultSet = require('./resultset.js');\nconst constants = require('./constants.js');\nconst errors = require('./errors.js');\nconst util = require('util');\nconst types = require('./types.js');\nconst nodbUtil = require('./util.js');\n\n//-----------------------------------------------------------------------------\n// checkType()\n//\n// Checks that the type of the data matches one of the given types. If the type\n// has not been specified yet, the first type is assumed to be the correct one.\n//\n// A failure to match results in an exception being thrown. The data in the\n// info parameter is used to determine which error should be thrown.\n//-----------------------------------------------------------------------------\nfunction checkType(info, options) {\n  if (info.type === undefined && arguments.length > 2) {\n    info.type = arguments[2];\n  } else {\n    let matches = false;\n    for (let i = 2; i < arguments.length; i++) {\n      if (info.type === arguments[i]) {\n        matches = true;\n        break;\n      }\n    }\n    if (!matches) {\n      if (info.attrName) {\n        errors.throwErr(errors.ERR_WRONG_VALUE_FOR_DBOBJECT_ATTR,\n          info.attrName, info.fqn);\n      } else if (info.fqn) {\n        errors.throwErr(errors.ERR_WRONG_VALUE_FOR_DBOBJECT_ELEM, info.fqn);\n      } else if (info.isArray && info.name) {\n        errors.throwErr(errors.ERR_INCOMPATIBLE_TYPE_ARRAY_BIND, options.pos,\n          info.name);\n      } else if (info.isArray) {\n        errors.throwErr(errors.ERR_INCOMPATIBLE_TYPE_ARRAY_INDEX_BIND,\n          options.pos, info.pos);\n      } else {\n        errors.throwErr(errors.ERR_BIND_VALUE_AND_TYPE_MISMATCH);\n      }\n    }\n  }\n}\n\n//-----------------------------------------------------------------------------\n// transformJsonValue()\n//\n// Returns a normalized JSON value. Scalar values are returned unchanged.\n// Arrays are returned as a new array with transformed JSON values. Objects are\n// returned as new objects with keys \"fields\" and \"values\", both of which\n// are arrays (with the value transformed to JSON values).\n//-----------------------------------------------------------------------------\nfunction transformJsonValue(value) {\n\n  // handle simple scalars\n  if (value === undefined || value === null ||\n    typeof value === 'number' || typeof value === 'string' ||\n    typeof value === 'boolean' || Buffer.isBuffer(value) ||\n    util.types.isDate(value) || nodbUtil.isVectorValue(value))\n    return value;\n\n  // arrays are transformed to a new array with processed values\n  if (Array.isArray(value)) {\n    const outValue = new Array(value.length);\n    for (let i = 0; i < value.length; i++) {\n      outValue[i] = transformJsonValue(value[i]);\n    }\n    return outValue;\n  }\n\n  // database objects are treated as empty objects\n  if (value instanceof BaseDbObject)\n    return {fields: [], values: []};\n\n  // JsonId is a special type to represent autogenerated id\n  // for SODA documents.\n  if (value instanceof types.JsonId) {\n    return value;\n  }\n\n  // all other objects are transformed to an object with two arrays (fields\n  // and values)\n  const outValue = {};\n  outValue.fields = Object.getOwnPropertyNames(value);\n  outValue.values = new Array(outValue.fields.length);\n  for (let i = 0; i < outValue.fields.length; i++) {\n    outValue.values[i] = transformJsonValue(value[outValue.fields[i]]);\n  }\n  return outValue;\n\n}\n\n//-----------------------------------------------------------------------------\n// transformValueIn()\n//\n// Processes the value supplied by the caller and returns a normalized value,\n// if necessary, for use by the implementation. All checks are performed on the\n// value to ensure it is suitable for the type information supplied. If no type\n// information is supplied, however, the value defines it instead!\n//-----------------------------------------------------------------------------\nfunction transformValueIn(info, value, options) {\n\n  // null and undefined can always be set so nothing needs to be done\n  if (value === undefined || value === null)\n    return undefined;\n\n  // handle setting plain JS values to database objects\n  if (info.type === types.DB_TYPE_OBJECT) {\n    let obj = value;\n    if (!(value instanceof BaseDbObject)) {\n      obj = new info.typeClass(value);\n    }\n    return obj._impl;\n\n  // handle setting plain JS values to JSON\n  } else if (info.type === types.DB_TYPE_JSON) {\n    return transformJsonValue(value);\n\n  // handle strings\n  } else if (typeof value === 'string') {\n    checkType(info, options,\n      types.DB_TYPE_VARCHAR,\n      types.DB_TYPE_NVARCHAR,\n      types.DB_TYPE_CHAR,\n      types.DB_TYPE_NCHAR,\n      types.DB_TYPE_CLOB,\n      types.DB_TYPE_NCLOB);\n    if (info.type !== types.DB_TYPE_CLOB &&\n        info.type !== types.DB_TYPE_NCLOB) {\n      const valueLen = Buffer.byteLength(value);\n      if (info.maxSize === undefined || valueLen > info.maxSize) {\n        if (info.checkSize) {\n          errors.throwErr(errors.ERR_MAX_SIZE_TOO_SMALL, info.maxSize,\n            valueLen, options.pos);\n        }\n        info.maxSize = valueLen;\n      }\n    }\n    return value;\n\n  // handle numbers\n  } else if (typeof value === 'number' || typeof value === 'bigint') {\n    checkType(info, options,\n      types.DB_TYPE_NUMBER,\n      types.DB_TYPE_BINARY_INTEGER,\n      types.DB_TYPE_BINARY_FLOAT,\n      types.DB_TYPE_BINARY_DOUBLE);\n    if (Number.isNaN(value) && info.type === types.DB_TYPE_NUMBER) {\n      errors.throwErr(errors.ERR_NAN_VALUE);\n    }\n    return value;\n\n  // handle booleans\n  } else if (typeof value === 'boolean') {\n    checkType(info, options, types.DB_TYPE_BOOLEAN);\n    return value;\n\n  // handle dates\n  } else if (util.types.isDate(value)) {\n    checkType(info, options,\n      types.DB_TYPE_TIMESTAMP,\n      types.DB_TYPE_TIMESTAMP_TZ,\n      types.DB_TYPE_TIMESTAMP_LTZ,\n      types.DB_TYPE_DATE);\n    return value;\n\n  // handle binding buffers\n  } else if (Buffer.isBuffer(value)) {\n    checkType(info, options,\n      types.DB_TYPE_RAW,\n      types.DB_TYPE_BLOB);\n    if (info.type === types.DB_TYPE_RAW &&\n        (info.maxSize === undefined || value.length > info.maxSize)) {\n      if (info.checkSize) {\n        errors.throwErr(errors.ERR_MAX_SIZE_TOO_SMALL, info.maxSize,\n          value.length, options.pos);\n      }\n      info.maxSize = value.length;\n    }\n    return value;\n\n  // handle result sets\n  } else if (value instanceof ResultSet) {\n    checkType(info, options, types.DB_TYPE_CURSOR);\n    return value._impl;\n\n  // handle binding LOBs\n  } else if (value instanceof Lob) {\n    checkType(info, options, value.type);\n    return value._impl;\n\n  // handle database objects\n  } else if (value instanceof BaseDbObject) {\n    checkType(info, options, types.DB_TYPE_OBJECT);\n    return value._impl;\n\n  // handle vectors\n  } else if (nodbUtil.isVectorValue(value)) {\n    checkType(info, options, types.DB_TYPE_VECTOR);\n    return value;\n  } else if (info.type === types.DB_TYPE_VECTOR && Array.isArray(value)) {\n    return new Float64Array(value);\n\n  // handle arrays\n  } else if (options.allowArray && Array.isArray(value)) {\n    info.isArray = true;\n    if (info.dir === constants.BIND_IN) {\n      info.maxArraySize = value.length || 1;\n    } else if (info.maxArraySize === undefined) {\n      errors.throwErr(errors.ERR_REQUIRED_MAX_ARRAY_SIZE);\n    } else if (value.length > info.maxArraySize) {\n      errors.throwErr(errors.ERR_INVALID_ARRAY_SIZE);\n    }\n    options.allowArray = false;\n    const transformed = new Array(value.length);\n    for (let i = 0; i < value.length; i++) {\n      options.pos = i;\n      transformed[i] = transformValueIn(info, value[i], options);\n    }\n    return transformed;\n  }\n\n  // no suitable bind value found\n  if (info.type === undefined)\n    errors.throwErr(errors.ERR_INVALID_BIND_DATA_TYPE, 2);\n  checkType(info, options);\n\n}\n\n// define exports\nmodule.exports = {\n  transformJsonValue,\n  transformValueIn\n\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}